extends base

block content
  #app-container
    #map
  script(type='template' id='template-servicetree')
    .container
      .header
        i.fa.fa-bars
        |  Browse topics
      .info-box.
        Click on title to show subtopics, or click 'show' to view services on the map.
      ul.navi
        <% if (back != null) { %>
        li.service.parent(data-service-id!='<%= back %>')
          i.fa.fa-chevron-left
          <%= heading %>
        <% } %>
        <% _.each(list_items, function (item) { %>
        li(class!='<%= item.classes %>' data-service-id!='<%= item.id %>', role="link", tabindex="0")
          <%= item.name %> <% if (item.has_children) { %>
          i.fa.fa-chevron-right.pull-right
          <% } %>
          <% if (item.selected) { %>
          a.show-button.selected.pull-right(href="#", role="button", tabindex="0") Hide
          <% } else { %>
          a.show-button.pull-right(href="#", role="button", tabindex="0") Show
          <% } %>
        <% }); %>

  script(type='text/javascript', data-main='js/servicemap', src='vendor/require.js')
  #sidebar
